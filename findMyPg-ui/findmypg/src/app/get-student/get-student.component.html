<div class="container mt-5">
  <div class="row">
    <div class="col-12">
      <h3 class="text-center">List of Students Assigned to Rooms</h3>
    </div>
  </div>

  <div class="row mt-4">
    <div class="col-md-6 offset-md-3">
      <mat-card>
        <mat-card-header>
          <mat-card-title>Select a Hostel</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <form [formGroup]="form">
            <mat-form-field appearance="outline" class="w-100">
              <mat-label>Select a Hostel</mat-label>
              <mat-select formControlName='selectedBuilding' (selectionChange)="onItemSelected()">
                <mat-option *ngFor="let item of ownerResponse" [value]="item.pgName">{{item.pgName}}</mat-option>
              </mat-select>
            </mat-form-field>
          </form>
        </mat-card-content>
      </mat-card>
    </div>
  </div>

  <div class="row mt-4">
    <div class="col-12">
      <mat-card>
        <mat-card-header>
          <mat-card-title>Student Details</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <div class="table-responsive">
            <table class="table table-striped table-bordered" *ngIf="form.get('selectedBuilding')?.value">
              <thead>
                <tr>
                  <th>S.No</th>
                  <th>First Name</th>
                  <th>Last Name</th>
                  <th>Email Id</th>
                  <th>Mobile Number</th>
                  <th>Room Number</th>
                  <th>Floor Number</th>
                  <th>Joining Date</th>
                  <th>Action</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let rooms of studentRoomsList; let i=index;">
                  <td>{{i+1}}</td>
                  <td>{{ rooms.firstName }}</td>
                  <td>{{ rooms.lastName }}</td>
                  <td>{{ rooms.emailId }}</td>
                  <td>{{ rooms.mobileNumber }}</td>
                  <td>{{rooms.roomNumber}}</td>
                  <td>{{rooms.floorNumber}}</td>
                  <td>{{rooms.joiningDate}}</td>
                  <td>
                    <button class="btn btn-success" (click)="viewQRcode(rooms)">View QR Code</button>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </mat-card-content>
      </mat-card>
    </div>
  </div>

  <div class="row mt-3">
    <div class="col-12 text-center">
      <mat-card>
        <mat-card-content>
          <button class="btn btn-primary" style="margin-right: 20px;" (click)="printMe()">Print</button>
          <button class="btn btn-secondary" routerLink="/student">Back to Student</button>
        </mat-card-content>
      </mat-card>
    </div>
  </div>
</div>